/*!
 * Easy Responsive Tabs Plugin 1.4
 * Tabs and Accordion functionality. Tabs transform into Accordion with reduced screen size.
 * 
 * Orignial: https://github.com/samsono/Easy-Responsive-Tabs-to-Accordion
 * Fork: https://github.com/ryan-christie/Easy-Responsive-Tabs-to-Accordion
 * 
 * Original Author: Samson.Onna <Email : samson3d@gmail.com> 
 * Author: Ryan Christie <ryan@biasedtruth.edu>
 * 
 * Licensed under MIT
 */
!function(e){
"use strict";
var ns=(window.ilstu&&typeof ilstu.require=="function")?ilstu:window;
"function"==typeof ns.define&&ns.define.amd?ns.define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(ns.require("jquery")):e(jQuery)
}(function(e){e.fn.extend({easyResponsiveTabs:function(t){var i={type:"default",width:"auto",init_class:"resp-tabs-init",fit:!0,closed:!1,hash_override_close:!0,slideSpeed:400,keyboard:!0,history:!0,active_priority:"hash",activate:function(){},slideUpComplete:function(){},slideDownComplete:function(){},init:function(){},complete:function(){}},s=t=e.extend(i,t),a=s.type,r=s.fit,n=s.width,l="vertical",c="accordion",o=window.location.hash,d=!!(window.history&&history.replaceState&&t.history);"function"==typeof t.init&&t.init(this),e(this).bind("tabactivate",function(e,i){t.keyboard&&i.focus(),"function"==typeof t.activate&&t.activate.call(i,e)}),this.each(function(){function i(){a==l&&s.addClass("resp-vtabs"),1==r&&s.css({width:"100%",margin:"0px"}),a==c&&(s.addClass("resp-easy-accordion"),u.css("display","none"))}var s=e(this).css({display:"block",width:n}),p=s.attr("id").split(" ")[0],u=s.children("ul").attr("role","tablist"),f=u.children().addClass("resp-tab-item");"vertical"==t.type&&u.css("margin-top","3px");var v=s.children("div"),m=v.children().addClass("resp-tab-content");i();var h=t.keyboard?" tabindex='0'":"";m.before("<h3 class='resp-accordion' role='tab'"+h+"><span class='resp-arrow'></span></h3>");var b=v.children("h3");b.each(function(t){var i=e(this),s=e(f[t]),a=e(b[t]);a.append(s.html()),a.data(s.data()),i.attr({id:p+"-accord-"+t,"aria-controls":p+"-container-"+t,"aria-selected":"false"})});var y=0;f.each(function(){var i=e(this);i.attr({id:p+"-tab-"+y,"aria-controls":p+"-container-"+y,role:"tab","aria-selected":"false"}),t.keyboard&&i.attr("tabindex","0"),y++}),m.each(function(t){$tabContent=e(this),$tabContent.attr({id:p+"-container-"+t,"aria-labelledby":p+"-tab-"+t,"aria-hidden":"true"})});var j=0,g=!1;if(""!=o){var C=o.match(new RegExp(p+"([0-9]+)"));if(null!==C&&2===C.length&&(g=!0,(j=parseInt(C[1],10)-1)>y&&(j=0)),o.indexOf(p+"|")>-1){var x=g&&"accordion"===t.type?e(b[j]):s;e("html,body").animate({scrollTop:x.offset().top-10})}}g&&"markup"!==t.active_priority||f.each(function(t){if(e(this).hasClass("resp-tab-active"))return j=t,!1}),f.removeClass("resp-tab-active"),e(f[j]).addClass("resp-tab-active").attr("aria-selected","true"),(g&&t.hash_override_close||!0!==t.closed&&("accordion"!==t.closed||u.is(":visible"))&&("tabs"!==t.closed||!u.is(":visible")))&&(e(b[j]).addClass("resp-tab-active").attr("aria-selected","true"),e(m[j]).addClass("resp-tab-content-active").attr({style:"display:block","aria-hidden":"false"}));var k=function(i){var a=e(i),r=a.attr("aria-controls");if(a.hasClass("resp-accordion")&&a.hasClass("resp-tab-active"))return v.children(".resp-tab-content-active").slideUp(t.slideSpeed,function(){e(this).addClass("resp-accordion-closed").removeAttr("style"),t.slideUpComplete(a)}),a.removeClass("resp-tab-active").attr("aria-selected","false"),!1;if(!a.hasClass("resp-tab-active")&&a.hasClass("resp-accordion")){s.children().children(".resp-tab-active").removeClass("resp-tab-active").attr("aria-selected","false");var n=v.children(".resp-tab-content-active");n.slideUp(t.slideSpeed,function(){t.slideUpComplete(n.prev())}).removeClass("resp-tab-content-active resp-accordion-closed").attr("aria-hidden","true"),s.find("[aria-controls="+r+"]").addClass("resp-tab-active").attr("aria-selected","true"),v.find("#"+r).slideDown(t.slideSpeed,function(){t.slideDownComplete(a)}).addClass("resp-tab-content-active").attr("aria-hidden","false")}else s.children().children(".resp-tab-active").removeClass("resp-tab-active").attr("aria-selected","false"),v.children(".resp-tab-content-active").removeAttr("style").removeClass("resp-tab-content-active").removeClass("resp-accordion-closed").attr("aria-hidden","true"),s.find("[aria-controls="+r+"]").addClass("resp-tab-active").attr("aria-selected","true"),v.find("#"+r).addClass("resp-tab-content-active").attr({style:"display:block","aria-hidden":"false"});if(a.trigger("tabactivate",a),d){var l=window.location.hash,c=r.split("-container-"),o=p+(parseInt(c[1],10)+1).toString();if(""!=l){var u=new RegExp(p+"[0-9]+");o=null!=l.match(u)?l.replace(u,o):l+"|"+o}else o="#"+o;o=o.replace(p+"|",""),history.replaceState(null,null,o)}};e.merge(f,b).click(function(){k(this)}).keydown(function(i){if(t.keyboard){var s=i.keyCode;if(s>36&&s<41||13===s){var a=e(this),r=a.hasClass("resp-tab-active"),n=a.hasClass("resp-accordion"),l="vertical"===t.type;if(r)switch(s){case 37:if(!n&&!l){(c=a.prev()).length&&(i.preventDefault(),k(c))}break;case 38:if(n||l){var c=n?a.prev().prev():a.prev();c.length&&(i.preventDefault(),k(c))}break;case 39:if(!n&&!l){(o=a.next()).length&&(i.preventDefault(),k(o))}break;case 40:if(n||l){var o=n?a.next().next():a.next();o.length&&(i.preventDefault(),k(o))}}(13===s||13===s&&n)&&(i.preventDefault(),k(a))}}}),s.removeClass(t.init_class)}),"function"==typeof t.complete&&t.complete(this)}})});
